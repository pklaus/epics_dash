{% extends "base_bootstrap.jinja2" %}

{% block title %}GView {{ config.pages[req_page].name }}{% endblock %}

{% block header %}
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/static/js/gview.js"></script>
{% endblock %}

{% block content %}
	<div id="heartbeat" class="inactive" style="width: 10px; height: 10px; border-radius: 5px;">
	  <div class="cover" style="width: 100%; height: 100%; radius: 5px; background-color: #ffff;">
	  </div>
	</div>
	<div class="gview">
		<object id="gview" style="margin: 2ex auto; display: block;" class="gview gview-{{ svg }}" data="{{ svg }}" type="image/svg+xml">
		Your browser doesn't support SVG
		</object>
	</div>
{% endblock %}

{% block js_end_of_page %}
var update_every_ms = 2050;

function timedUpdate() {
  updateStatus();
  setTimeout(function() {
    timedUpdate();
  }, update_every_ms);
};

$(function() {
  // on page load
  updateStatus();
  setTimeout(function() {
    timedUpdate();
  }, update_every_ms);
});
{% endblock %}
